# Protocole TCP/IP

Mis en place pour permettre la communication entre tous les ordinateurs, peu importe leur fabriquant.

Organise/ordonne la communication: 
- quand elle commence
- qui transmet quand
- est-ce que l'info a bien été transmise
- quand elle finit.

#### IP (Internet Protocol): 
identifie les adresses des ordinateurs impliqués.

#### TCP (Transmission Control Protocol):
transmet les informations d'une adresse à l'autre.


Les informations sont transmises en **paquets** afin de ne pas devoir tout renvoyer en cas de problème. Ils sont réassemblés une fois arrivés. Chaque paquet peut prendre un chemin différent, pour faciliter la circulation.

Les informations sont également transmises en **4 couches**, afin de respecter des standards facilitant la communication (telle information dans telle couche) et la mise à jour (uniquement les couches concernées au lieu de l'ensemble).

### Couche de liaison de données / d'interface réseau / d'accès réseau / physique 
Gère la partie physique de la transmission (envoi et réception) par le matériel (câble ethernet, carte d'interface réseau, pilote du périphérique, ...).

### Couche internet / couche réseau
Contrôle le mouvement des paquets sur le réseau.

### Couche transport
Fournit une connnexion fiable, divise en paquets, accuse réception, et vérifie les accusés de réception de l'autre appareil.

### Couche application
Ce que l'utilisateur voit.

Comme les paquets ne sont pas chiffrés, ils sont accessibles à qui sait y faire, d'autant plus sur un wifi public. Un VPN les chiffre.

## Les types d'adresses IP
Il existe 2 types:
- statique: reste toujours la même.
- dynamique: est modifiée de temps en temps et sert un peu de tampon: pour imager, on connaît l'adresse de l'hôtel mais pas le numéro de chambre.

Et 2 versions:
- IPv4 (version 4): ancienne version, quand on avait besoin de moins d'adresses IP et qu'elles étaient donc moins longues.
- IPv6 (version 6): nouvelle version, rallongée car besoin de plus d'adresses IP.

### IPv4
Les adresses IPv4 sont constituées de 32 bits, généralement représentées en format décimal par quatre nombres séparés par des points, chaque nombre représentant un octet (8 bits). Par exemple, 192.168.1.1 est représenté ainsi:
![protocol-ip-1 BKw1RFXH_Z1syQy](https://github.com/user-attachments/assets/6ee37ff5-2ae9-4070-b551-26e1a4bbe0e4)

La subdivision d’un réseau en sous-réseaux permet une utilisation plus efficace des adresses IP et améliore la sécurité et la performance du réseau. Les masques de réseau en IPv4 sont utilisés pour déterminer quelle partie d’une adresse IP représente le réseau et quelle partie représente l’hôte au sein de ce réseau. Voici comment ils fonctionnent :

<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" type="text/css"?>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 727.5435791015625 479.9606018066406" style="max-width: 100%; max-height: 100%; background: white;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-image-editor"><style>#mermaid-image-editor{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-image-editor .error-icon{fill:#552222;}#mermaid-image-editor .error-text{fill:#552222;stroke:#552222;}#mermaid-image-editor .edge-thickness-normal{stroke-width:1px;}#mermaid-image-editor .edge-thickness-thick{stroke-width:3.5px;}#mermaid-image-editor .edge-pattern-solid{stroke-dasharray:0;}#mermaid-image-editor .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-image-editor .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-image-editor .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-image-editor .marker{fill:#333333;stroke:#333333;}#mermaid-image-editor .marker.cross{stroke:#333333;}#mermaid-image-editor svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-image-editor p{margin:0;}#mermaid-image-editor .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-image-editor .cluster-label text{fill:#333;}#mermaid-image-editor .cluster-label span{color:#333;}#mermaid-image-editor .cluster-label span p{background-color:transparent;}#mermaid-image-editor .label text,#mermaid-image-editor span{fill:#333;color:#333;}#mermaid-image-editor .node rect,#mermaid-image-editor .node circle,#mermaid-image-editor .node ellipse,#mermaid-image-editor .node polygon,#mermaid-image-editor .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-image-editor .rough-node .label text,#mermaid-image-editor .node .label text,#mermaid-image-editor .image-shape .label,#mermaid-image-editor .icon-shape .label{text-anchor:middle;}#mermaid-image-editor .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-image-editor .rough-node .label,#mermaid-image-editor .node .label,#mermaid-image-editor .image-shape .label,#mermaid-image-editor .icon-shape .label{text-align:center;}#mermaid-image-editor .node.clickable{cursor:pointer;}#mermaid-image-editor .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-image-editor .arrowheadPath{fill:#333333;}#mermaid-image-editor .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-image-editor .flowchart-link{stroke:#333333;fill:none;}#mermaid-image-editor .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-image-editor .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-image-editor .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-image-editor .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-image-editor .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-image-editor .cluster text{fill:#333;}#mermaid-image-editor .cluster span{color:#333;}#mermaid-image-editor div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-image-editor .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-image-editor rect.text{fill:none;stroke-width:0;}#mermaid-image-editor .icon-shape,#mermaid-image-editor .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-image-editor .icon-shape p,#mermaid-image-editor .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-image-editor .icon-shape rect,#mermaid-image-editor .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-image-editor :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-image-editor_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-image-editor_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-image-editor_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-image-editor_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-image-editor_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-image-editor_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="103.99342727661133" width="340.7717742919922" y="8" x="378.7717742919922" style=""></rect><g transform="translate(465.3512268066406, 8)" class="cluster-label"><foreignObject height="23.99342918395996" width="167.6128692626953"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Masque de Sous-Réseau</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="103.99342727661133" width="350.7717742919922" y="8" x="8" style=""></rect><g transform="translate(114.07785034179688, 8)" class="cluster-label"><foreignObject height="23.99342918395996" width="138.61607360839844"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Adresse IP Exemple</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-image-editor_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_IP_N_0" d="M145.356,86.993L139.547,91.16C133.737,95.327,122.118,103.66,116.309,113.993C110.499,124.326,110.499,136.658,116.985,148.549C123.471,160.44,136.442,171.89,142.928,177.615L149.414,183.34"></path><path marker-end="url(#mermaid-image-editor_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_IP_H_1" d="M226.234,86.993L232.907,91.16C239.58,95.327,252.927,103.66,283.622,113.993C314.318,124.326,362.364,136.658,401.957,149.737C441.55,162.816,472.692,176.642,488.262,183.555L503.833,190.468"></path><path marker-end="url(#mermaid-image-editor_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_N_NR_2" d="M182.998,239.98L182.998,246.146C182.998,252.313,182.998,264.645,182.998,276.31C182.998,287.976,182.998,298.975,182.998,304.474L182.998,309.974"></path><path marker-end="url(#mermaid-image-editor_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_HR_3" d="M554.546,239.98L554.546,246.146C554.546,252.313,554.546,264.645,554.546,276.31C554.546,287.976,554.546,298.975,554.546,304.474L554.546,309.974"></path><path marker-end="url(#mermaid-image-editor_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_N_4" d="M516.501,86.993L510.63,91.16C504.758,95.327,493.014,103.66,461.453,113.993C429.892,124.326,378.513,136.658,338.608,149.135C298.703,161.613,270.272,174.236,256.057,180.547L241.841,186.858"></path><path marker-end="url(#mermaid-image-editor_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_H_5" d="M592.187,86.993L597.997,91.16C603.806,95.327,615.425,103.66,621.235,113.993C627.045,124.326,627.045,136.658,620.559,148.549C614.073,160.44,601.101,171.89,594.615,177.615L588.129,183.34"></path><path marker-end="url(#mermaid-image-editor_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NR_Resultat_6" d="M182.998,367.967L182.998,372.134C182.998,376.3,182.998,384.634,197.243,392.787C211.487,400.941,239.977,408.915,254.221,412.902L268.466,416.889"></path><path marker-end="url(#mermaid-image-editor_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_HR_Resultat_7" d="M554.546,367.967L554.546,372.134C554.546,376.3,554.546,384.634,540.301,392.787C526.056,400.941,497.567,408.915,483.322,412.902L469.078,416.889"></path></g><g class="edgeLabels"><g transform="translate(110.49894714355469, 148.9901418685913)" class="edgeLabel"><g transform="translate(-63.274932861328125, -11.99671459197998)" class="label"><foreignObject height="23.99342918395996" width="126.54986572265625"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Appliquer Masque</p></span></div></foreignObject></g></g><g transform="translate(410.40924072265625, 148.9901418685913)" class="edgeLabel"><g transform="translate(-63.274932861328125, -11.99671459197998)" class="label"><foreignObject height="23.99342918395996" width="126.54986572265625"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Appliquer Masque</p></span></div></foreignObject></g></g><g transform="translate(182.99789428710938, 276.9769983291626)" class="edgeLabel"><g transform="translate(-48.80812072753906, -11.99671459197998)" class="label"><foreignObject height="23.99342918395996" width="97.61624145507812"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Partie Réseau</p></span></div></foreignObject></g></g><g transform="translate(554.545654296875, 276.9769983291626)" class="edgeLabel"><g transform="translate(-40.67764663696289, -11.99671459197998)" class="label"><foreignObject height="23.99342918395996" width="81.35529327392578"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Partie Hôte</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(182.99789428710938, 59.996713638305664)" id="flowchart-IP-1077" class="node default"><rect height="53.99342918395996" width="259.99578857421875" y="-26.99671459197998" x="-129.99789428710938" style="" class="basic label-container"></rect><g transform="translate(-99.99789428710938, -11.99671459197998)" style="" class="label"><rect></rect><foreignObject height="23.99342918395996" width="199.99578857421875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>11000000.10101000.00000001.00001010</p></span></div></foreignObject></g></g><g transform="translate(182.99789428710938, 212.98357009887695)" id="flowchart-N-1078" class="node default"><rect height="53.99342918395996" width="110.37483215332031" y="-26.99671459197998" x="-55.187416076660156" style="" class="basic label-container"></rect><g transform="translate(-25.187416076660156, -11.99671459197998)" style="" class="label"><rect></rect><foreignObject height="23.99342918395996" width="50.37483215332031"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Réseau</p></span></div></foreignObject></g></g><g transform="translate(554.545654296875, 212.98357009887695)" id="flowchart-H-1080" class="node default"><rect height="53.99342918395996" width="94.1138801574707" y="-26.99671459197998" x="-47.05694007873535" style="" class="basic label-container"></rect><g transform="translate(-17.05694007873535, -11.99671459197998)" style="" class="label"><rect></rect><foreignObject height="23.99342918395996" width="34.1138801574707"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Hôte</p></span></div></foreignObject></g></g><g transform="translate(554.545654296875, 59.996713638305664)" id="flowchart-M-1082" class="node default"><rect height="53.99342918395996" width="259.99578857421875" y="-26.99671459197998" x="-129.99789428710938" style="" class="basic label-container"></rect><g transform="translate(-99.99789428710938, -11.99671459197998)" style="" class="label"><rect></rect><foreignObject height="23.99342918395996" width="199.99578857421875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>11111111.11111111.11111111.00000000</p></span></div></foreignObject></g></g><g transform="translate(182.99789428710938, 340.97042655944824)" id="flowchart-NR-1084" class="node default"><rect height="53.99342918395996" width="259.99578857421875" y="-26.99671459197998" x="-129.99789428710938" style="" class="basic label-container"></rect><g transform="translate(-99.99789428710938, -11.99671459197998)" style="" class="label"><rect></rect><foreignObject height="23.99342918395996" width="199.99578857421875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>11000000.10101000.00000001 (Réseau)</p></span></div></foreignObject></g></g><g transform="translate(554.545654296875, 340.97042655944824)" id="flowchart-HR-1086" class="node default"><rect height="53.99342918395996" width="177.78133392333984" y="-26.99671459197998" x="-88.89066696166992" style="" class="basic label-container"></rect><g transform="translate(-58.89066696166992, -11.99671459197998)" style="" class="label"><rect></rect><foreignObject height="23.99342918395996" width="117.78133392333984"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>00000000 (Hôte)</p></span></div></foreignObject></g></g><g transform="translate(368.7717742919922, 444.96385383605957)" id="flowchart-Resultat-1092" class="node default"><rect height="53.99342918395996" width="239.6285400390625" y="-26.99671459197998" x="-119.81427001953125" style="" class="basic label-container"></rect><g transform="translate(-89.81427001953125, -11.99671459197998)" style="" class="label"><rect></rect><foreignObject height="23.99342918395996" width="179.6285400390625"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Résultat: 192.168.1.0/24</p></span></div></foreignObject></g></g></g></g></g></svg>![protocol-ip-2 DyNLspFm_ZzmCRd](https://github.com/user-attachments/assets/fdd55f2e-c7da-4d30-b8ec-ae64fb1418e1)

Ce graphe utilise une représentation binaire pour montrer comment un masque de sous-réseau est appliqué à une adresse IP :
- L’adresse IP Exemple est 192.168.1.10, représentée en binaire comme 11000000.10101000.00000001.00001010.
- Le Masque de Sous-Réseau utilisé est 255.255.255.0, représenté en binaire comme 11111111.11111111.11111111.00000000.
- La Partie Réseau obtenue est 192.168.1, représentée en binaire comme 11000000.10101000.00000001.
- La Partie Hôte est 0.0.0.10, représentée en binaire comme 00000000.
- Le Résultat affiche l’adresse du réseau dans la notation CIDR, ici 192.168.1.0/24, où /24 indique que les 24 premiers bits sont utilisés pour l’adresse réseau.

#### Détermination du Réseau et de l’Hôte :
Lorsqu’un masque de réseau est appliqué (opération logique ET) à une adresse IP, les bits du masque à 1 indiquent la partie réseau de l’adresse, tandis que les bits à 0 indiquent la partie hôte.

Par exemple, avec l’adresse IP 192.168.1.10 et le masque 255.255.255.0, l’adresse de réseau est 192.168.1.0 et l’adresse de l’hôte est 0.0.0.10.

#### Notation CIDR (Classless Inter-Domain Routing) :

Avec l’introduction de CIDR, la notion de classes d’adresse a été remplacée par un système plus flexible. CIDR utilise une notation en barre oblique (/) suivie du nombre de bits à 1 dans le masque. Par exemple, /24 pour 255.255.255.0.
